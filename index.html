<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è–èª•å°ˆå±¬é©šå–œ</title>
    <!-- å¼•å…¥ Google Fonts: Klee One (å„ªé›…çš„æ‰‹å¯«æ„Ÿç¹é«”ä¸­æ–‡å­—é«”) -->
    <link href="https://fonts.googleapis.com/css2?family=Klee+One:wght@400;600&display=swap" rel="stylesheet">
    <!-- å¼•å…¥å™´èŠ±ç‰¹æ•ˆåº« -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --primary-green: #3A4D39;
            --soft-white: rgba(255, 255, 255, 0.9);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --handwriting: 'Klee One', cursive;
        }

        body, html { 
            margin: 0; padding: 0; height: 100%; overflow: hidden; 
            background-color: #0d0d0d;
            font-family: var(--handwriting);
        }
        
        /* èƒŒæ™¯ç…§ç‰‡ */
        #bg-image {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            /* èƒŒæ™¯åœ–ç‰‡ */
            background: url('https://drive.google.com/thumbnail?id=16eeM0EZxSF96D14L6Fh8fchtIUAPtzbj&sz=w1792') no-repeat center center;
            background-size: cover;
            filter: blur(60px); 
            opacity: 0;
            transition: filter 0.6s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.6s ease;
            z-index: 1;
        }

        /* é»æ“Šå€åŸŸ */
        #click-area {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 10; display: flex; align-items: center; justify-content: center;
        }

        /* åœ“åœˆæŒ‰éˆ•èˆ‡é€²åº¦ç’° */
        .btn-wrapper {
            position: relative; width: 160px; height: 160px;
            display: flex; align-items: center; justify-content: center;
        }

        #progress-ring {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            transform: rotate(-90deg);
        }

        #progress-ring circle {
            fill: none; stroke: rgba(255, 255, 255, 0.2); stroke-width: 4;
            stroke-dasharray: 440; stroke-dashoffset: 440;
            transition: stroke-dashoffset 0.3s ease;
        }

        #click-btn {
            width: 130px; height: 130px; border-radius: 50%;
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #fff; display: flex; flex-direction: column; 
            align-items: center; justify-content: center;
            cursor: pointer; box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            animation: pulse 2.5s infinite; user-select: none; z-index: 2;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); box-shadow: 0 0 30px rgba(255, 255, 255, 0.2); }
            100% { transform: scale(1); }
        }

        /* å™´ç™¼å°ç¬¦è™Ÿ */
        .particle {
            position: absolute; pointer-events: none; animation: fly 1.2s ease-out forwards;
            font-size: 20px; z-index: 100;
        }

        @keyframes fly {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 1; }
            100% { transform: translate(var(--tx), var(--ty)) scale(1.2) rotate(var(--tr)); opacity: 0; }
        }

        /* å·è»¸è¨­è¨ˆ */
        #scroll-container {
            display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 88%; max-width: 420px; z-index: 20;
        }

        .scroll-paper {
            background: var(--soft-white);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 0 30px; overflow-y: auto; overflow-x: hidden; max-height: 0;
            transition: max-height 2.5s cubic-bezier(0.45, 0, 0.55, 1);
            border-left: 1px solid rgba(0,0,0,0.05); border-right: 1px solid rgba(0,0,0,0.05);
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
            display: flex; flex-direction: column; align-items: center;
            scrollbar-width: none; /* Hide scrollbar Firefox */
        }
        .scroll-paper::-webkit-scrollbar { display: none; } /* Hide scrollbar Chrome/Safari */

        .scroll-paper.open { max-height: 75vh; padding: 40px 30px; }

        .scroll-rod {
            height: 14px; width: 104%; background: var(--primary-green);
            border-radius: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            position: relative; z-index: 21;
        }

        #scroll-content { 
            opacity: 0; transition: opacity 1.5s ease; 
            text-align: center; color: #2c3e50;
            width: 100%;
        }
        .open #scroll-content { opacity: 1; transition-delay: 1.2s; }

        h2 { 
            font-size: 1.3em; margin-top: 0; letter-spacing: 5px; 
            border-bottom: 1px dashed #3a4d3944; padding-bottom: 12px;
            color: var(--primary-green); display: inline-block;
        }
        
        p { 
            line-height: 2; font-size: 0.95em; letter-spacing: 1.5px;
            white-space: pre-line; margin: 20px 0;
            text-align: center; /* ä½¿ç”¨ç½®ä¸­å°é½Šåœ¨å°å¡ç‰‡ä¸­æ›´ç¾è§€ */
            padding: 0 5px;
        }

        #reset-btn {
            background: transparent; border: 1px solid var(--primary-green);
            color: var(--primary-green); padding: 6px 20px; border-radius: 20px;
            cursor: pointer; font-family: var(--handwriting); letter-spacing: 2px;
            transition: 0.3s; font-size: 0.85em; margin-bottom: 10px;
        }
        #reset-btn:hover { background: var(--primary-green); color: white; }
    </style>
</head>
<body>

    <div id="bg-image"></div>

    <div id="click-area" onclick="handleInteraction(event)">
        <div class="btn-wrapper">
            <svg id="progress-ring">
                <circle id="progress-circle" r="70" cx="80" cy="80"></circle>
            </svg>
            <div id="click-btn">
                <span style="letter-spacing: 1.5px; font-weight: 600;">Click</span>
                <span id="counter" style="font-size: 0.8em; margin-top:8px; opacity: 0.7;">0%</span>
            </div>
        </div>
    </div>

    <div id="scroll-container">
        <div class="scroll-rod"></div>
        <div id="paper" class="scroll-paper">
            <div id="scroll-content">
                <h2>è‡´ æˆ‘çš„å¯¶</h2>
                <p>æŠ±æ­‰é²ä¾†çš„è–èª•å¡ç‰‡ã€‚
                é€™æ˜¯æˆ‘å€‘åœ¨ä¸€èµ·éçš„ç¬¬äºŒå€‹è–èª•ç¯€ï¼Œèº«ä»½å¾æœ‹å‹æˆç‚ºäº†ç”·å‹ã€‚
                ä»Šå¹´çš„è–èª•ç‰¹åˆ¥æ¨¸å¯¦ï¼Œ<br>ä½†å»æ ¼å¤–å¹¸ç¦ã€‚

                é€™ä¸€å¹´ä¾†è¾›è‹¦ä½ äº†ï¼Œä½ è¦å¿å—æˆ‘çš„ç™½ç›®ã€è„¾æ°£ã€é‚„æœ‰å‡¹è±†çš„æ´»å‹•ã€‚<br>æˆ‘å¾ˆåŠªåŠ›è¦æ”¹ï¼Œä½†çœŸçš„çµ¦æˆ‘é»æ©Ÿæœƒå“ˆå“ˆï¼ä½ çš„æ”¹è®Šæˆ‘éƒ½æœ‰çœ‹åœ¨çœ¼è£¡ï¼Œå¸Œæœ›é€™äº›æ—¥å­çš„æ‘©æ“¦ï¼Œèƒ½åŒ–ç‚ºé€™ä»½æ„›æƒ…èŒå£¯çš„é¤Šåˆ†ï¼Œè®“æˆ‘å€‘æ„ˆä¾†æ„ˆå¥½ã€‚

                å¸Œæœ›æœªä¾†çš„æ¯ä¸€å¤©ï¼Œæˆ‘å€‘èƒ½ä¸€èµ·æ‹ä¸‹æ›´å¤šé›ªæ™¯ã€ç•™ä¸‹æ›´å¤šç¾å¥½ã€‚

                è–èª•å¿«æ¨‚ï¼ŒLuv uã€‚</p>
                <button id="reset-btn" onclick="resetAll()">REPLAY</button>
            </div>
        </div>
        <div class="scroll-rod"></div>
    </div>

    <script>
        let count = 0;
        const maxClicks = 50;
        const bg = document.getElementById('bg-image');
        const container = document.getElementById('scroll-container');
        const paper = document.getElementById('paper');
        const counterText = document.getElementById('counter');
        const clickArea = document.getElementById('click-area');
        const progressCircle = document.getElementById('progress-circle');
        const circumference = 2 * Math.PI * 70;

        progressCircle.style.strokeDasharray = circumference;

        function handleInteraction(e) {
            if (count >= maxClicks) return;

            count++;
            
            // éš¨æ©Ÿå™´ç™¼å°ç¬¦è™Ÿ (æ„›å¿ƒã€æ˜Ÿæ˜Ÿ)
            spawnParticle(e.clientX, e.clientY);
            
            // èƒŒæ™¯èˆ‡é€²åº¦ç’°å„ªåŒ–
            const progress = count / maxClicks;
            const blurVal = 60 - (count * 1.2);
            bg.style.filter = `blur(${blurVal}px)`;
            bg.style.opacity = progress;
            
            progressCircle.style.strokeDashoffset = circumference - (progress * circumference);
            progressCircle.style.stroke = `rgba(255, 255, 255, ${0.2 + progress * 0.8})`;
            counterText.innerText = Math.round(progress * 100) + '%';

            if (count >= maxClicks) {
                triggerFinish();
            }
        }

        function spawnParticle(x, y) {
            const symbols = ['â¤ï¸', 'âœ¨', 'â„ï¸', 'ğŸŒ¸'];
            const p = document.createElement('div');
            p.className = 'particle';
            p.innerHTML = symbols[Math.floor(Math.random() * symbols.length)];
            p.style.left = x + 'px';
            p.style.top = y + 'px';
            p.style.setProperty('--tx', (Math.random() - 0.5) * 200 + 'px');
            p.style.setProperty('--ty', (Math.random() * -150 - 50) + 'px');
            p.style.setProperty('--tr', (Math.random() * 360) + 'deg');
            document.body.appendChild(p);
            setTimeout(() => p.remove(), 1200);
        }

        function triggerFinish() {
            // å™´ç™¼æ…¶ç¥ç´™èŠ±
            confetti({
                particleCount: 150,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#3A4D39', '#D88585', '#ECE3CE']
            });

            setTimeout(() => {
                clickArea.style.transition = 'opacity 1s';
                clickArea.style.opacity = '0';
                setTimeout(() => {
                    clickArea.style.display = 'none';
                    container.style.display = 'block';
                    setTimeout(() => paper.classList.add('open'), 100);
                }, 1000);
            }, 500);
        }

        function resetAll() {
            count = 0;
            paper.classList.remove('open');
            setTimeout(() => {
                container.style.display = 'none';
                clickArea.style.display = 'flex';
                clickArea.style.opacity = '1';
                bg.style.filter = 'blur(60px)';
                bg.style.opacity = '0';
                progressCircle.style.strokeDashoffset = circumference;
                counterText.innerText = '0%';
            }, 800);
        }
    </script>
</body>
</html>
